# Упражнение 12

### Задача:

Целта ни е да разработим програма за игра на шах съгласно принципите на _ООП_: енкапсулация, абстракция, наследяване и полиморфизъм.


### Въпроси:

1. Как подхождате към един такъв проблем? Откъде започвате?

2. На какви _"стъпки"_ (лесно менажируеми под-проблеми) разбивате проблема?
Как решавате кога сте приключили с една стъпка и можете да преминете към следващата? Как преценявате в какъв ред трябва да се изпълнят стъпките и по кои стъпки може да се работи едновременно?

3. Какво правите, за да _"хващате"_ грешките си максимално рано и да имате увереност, че кодът ви работи както очаквате?


### Стъпки:

1. Основни класове и обекти:
	- Разгледайте класа `Position`, който енкапсулира концепцията за позиция въру шахматната дъска.
	- Създайте абстрактен клас `Figure` (фигура) с общите свойства и методи за всички фигури в играта.
	- Създайте класове за всички видове фигури в играта: пешка (`Pawn`), кон (`Knight`), офицер (`Bishop`), топ (`Rook`), царица (`Queen`) и цар (`King`), които наследяват класа `Figure`.
	- Създайте клас `Board` (дъска), който да представлява игралната дъска.
	- Създайте клас `Game` (игра), който пази текущото състояние на играта, контролира реда на играчите и проверява валидността на техните ходове.

2. Правила и ходове:
	- Добавете чиста виртуална функция `isValidMove` в класа `Figure`, която проверява дали даден ход е валиден.
	- Добавете метод за извършване на ход в класа `Game`, който да проверява дали даден ход е валиден според правилата на шаха и ако е, да обновява състоянието на дъската.
	- Имплементирайте метода `isValidMove` в наследниците на `Figure`.

3. **[Бонус/Домашно]** Допълнителни функционалности:
	- Предефинирайте оператора `<<` така че да може да отпечатва състоянието на една шахматна дъска.
	- Реализирайте функционалност за запазване и зареждане на една игра във/от файл.
	- Добавете методи за проверка на състояния като _шах_, _мат_ и _пат_ в класа `Game`.
	- Реализирайте `main` функция, която да позволява да се играе една партия шах от конзолата. За целта `main` функцията трябва да включва следните три стъпки:
		- Прочита от терминала следващия ход във формат на [алгебрична шахматна нотация](https://www.chesshouse.com/blogs/education/how-to-read-and-write-algebraic-chess-notation)
		- Играе хода и отпечатва новото състояние на играта ако той е валиден или съобщение за грешка ако не е.
		- Продължава така, докато играта не завърши с победа (мат) на единия от двамта играчи или с техническо реми (_пат_, тройно повторение на дадена позиция или 50 хода без да е взета фигура).
	- Tествайте програмата, върху реални игри на шах с различни сценарии. Уверете се, че всички правила и възможности са коректно имплементирани.
